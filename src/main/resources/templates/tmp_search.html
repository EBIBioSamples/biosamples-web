<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorator="parent_layouts/base"
      xmlns:layout="http://www.w3.org/1999/xhtml"
      th:with="currentPage = 'search', apiUrl = @{/api/search}">
<head>

    <meta charset="utf-8" />

    <!-- Use the .htaccess and remove these lines to avoid edge case issues.
         More info: h5bp.com/b/378 -->
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> --> <!-- Not yet implemented -->

    <title>[page-title] &lt; [service-name] &lt; EMBL-EBI</title>
    <meta name="description" content="EMBL-EBI" /><!-- Describe what this page is about -->
    <meta name="keywords" content="bioinformatics, europe, institute" /><!-- A few keywords that relate to the content of THIS PAGE (not the whol project) -->
    <meta name="author" content="EMBL-EBI" /><!-- Your [project-name] here -->

    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

    <!-- CSS: implied media=all -->
    <!-- CSS concatenated and minified via ant build script-->
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/boilerplate-style.css">
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-global.css" type="text/css" media="screen">
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-visual.css" type="text/css" media="screen">
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/984-24-col-fluid.css" type="text/css" media="screen">

    <!-- you can replace this with [projectname]-colours.css. See http://frontier.ebi.ac.uk/web/style/colour for details of how to do this -->
    <!-- also inform ES so we can host your colour palette file -->

    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/develop/embl-petrol-colours.css" type="text/css" media="screen">
    <link rel="stylesheet" href="stylesheets/main_samelf.css">
    <link rel="stylesheet" th:href="@{../stylesheets/main_samelf.css}" href="../static/stylesheets/main_samelf.css" type="text/css" media="screen"/>

    <!-- for production the above can be replaced with -->
    <!--
    <link rel="stylesheet" href="//www.ebi.ac.uk/web_guidelines/css/compliance/mini/ebi-fluid-embl.css">
    -->

    <style type="text/css">
        /* You have the option of setting a maximum width for your page, and making sure everything is centered */
        /* body { max-width: 1600px; margin: 0 auto; } */
        .node circle {
        fill: #000;
        opacity:0.8;
        }

        .node text {
        stroke:#333;
        cursos:pointer;
        }

        .node {
        font: 10px sans-serif;
        }
        .link {
        stroke: #aaa;
        stroke-width: 1.5px;
        opacity:.6;
        }
        .text-d3{
        border:solid;
        border-radius:10px;
        background-color:green;
        font-family:arial;
        font-size:10px;
        }
        .text-d3:hover{
        fill:black;
        }



        .axis {
        font: 10px sans-serif;
        }
        .axis path,
        .axis line {
        fill: none;
        stroke: #000;
        shape-rendering: crispEdges;
        }
        .x.axis path {
        display: none;
        }

        .hull {
        fill: steelblue;
        stroke: steelblue;
        stroke-width: 32px;
        stroke-linejoin: round;
        }

        #vizSpotRelations{
        background-color: #ffffff;
        }

        #elementHelp{
        position:fixed;
        top:4%;
        right:2%;
        width:300px;
        text-align: center;
        background: grey;
        color:white;
        stroke: steelblue;
        stroke-width: 32px;
        border: 4px solid grey;
        visibility: hidden;
        }

        #infoPop{
        position:fixed;
        top:20%;
        right:30%;
        left:30%;
        width:40%;
        text-align: center;
        background: black;
        color:white;
        stroke: steelblue;
        stroke-width: 32px;
        border: 4px solid grey;
        display:none
        }

        ::-webkit-scrollbar {
        width: 15px;
        height: 15px;
        }
        ::-webkit-scrollbar-button {
        width: 31px;
        height: 31px;
        }
        ::-webkit-scrollbar-thumb {
        background: #000000;
        border: 6px solid #ffffff;
        border-radius: 7px;
        }
        ::-webkit-scrollbar-thumb:hover {
        background: #3bcf88;
        }
        ::-webkit-scrollbar-thumb:active {
        background: #000000;
        }
        ::-webkit-scrollbar-track {
        background: #a9a9a9;
        border: 72px none #ffffff;
        border-radius: 84px;
        }
        ::-webkit-scrollbar-track:hover {
        background: #5e5e5e;
        }
        ::-webkit-scrollbar-track:active {
        background: #c0c0c0;
        }
        ::-webkit-scrollbar-corner {
        background: transparent;
        }

        table {
        border: 4px solid grey;
        }

    </style>

    <!-- end CSS-->


    <!-- All JavaScript at the bottom, except for Modernizr / Respond.
         Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
         For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->

    <!-- Full build -->
    <!-- <script src="//www.ebi.ac.uk/web_guidelines/js/libs/modernizr.minified.2.1.6.js"></script> -->

    <!-- custom build (lacks most of the "advanced" HTML5 support -->
    <script src="//www.ebi.ac.uk/web_guidelines/js/libs/modernizr.custom.49274.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        window.apiUrl = [[${apiUrl}]];
        /*]]>*/
    </script>
</head>
<body id="app">


<body class="level2" id="app"><!-- add any of your classes or IDs -->

<div id="skip-to">
    <ul>
        <li><a href="#content">Skip to main content</a></li>
        <li><a href="#local-nav">Skip to local navigation</a></li>
        <li><a href="#global-nav">Skip to EBI global navigation menu</a></li>
        <li><a href="#global-nav-expanded">Skip to expanded EBI global navigation menu (includes all sub-sections)</a></li>
    </ul>
</div>

<div id="wrapper" class="container_24">
    <header>
        <div id="global-masthead" class="masthead grid_24">
            <!--This has to be one line and no newline characters-->
            <a href="//www.ebi.ac.uk/" title="Go to the EMBL-EBI homepage"><img src="//www.ebi.ac.uk/web_guidelines/images/logos/EMBL-EBI/EMBL_EBI_Logo_white.png" alt="EMBL European Bioinformatics Institute"/></a>

            <div layout:fragment="content">


                <nav id="breadcrumb">
                    <p>
                        <a th:href="@{/}" href="/">BioSamples</a> &gt; <a th:href="@{/search}" href="../search">Search</a></span>
                    </p>
                </nav>

                <!-- Example layout containers -->

                <section>
                    <h2>BioSample Database Search Interface</h2>
                </section>

                <section class="container" v-show="queryTermPresent" v-cloak>
                    <div v-if="!queryHasResults">
                        <div class="row">
                            <h3>
                                No results have been found for <i>{{queryTerm}}</i>
                                <span class="small"><a href="#" v-on:click="querySamplesUsingFuzzy()">Try for similar terms?</a></span>
                            </h3>
                        </div>
                    </div>

                    <<<<<<< HEAD
    </header>

    <div id="content" role="main" class="grid_24 clearfix">


        <!-- If you require a breadcrumb trail, its root should be your service.
              You don't need a breadcrumb trail on the homepage of your service... -->
        <nav id="breadcrumb">
            <p>
                <a href="#">BioSamples</a> &gt;
                Search
            </p>
        </nav>

        <!-- Example layout containers -->

        <section >
            <div id="sectionTitle">
                <h2 >BioSample Database Search Interface</h2>
            </div>
            <div id="buttonRezInfo" style="border:solid;border-color:grey;  border-radius:1px;visibility:hidden;">
                <h4 id="titleRezInfo" >
                    Display result information
                </h4>
            </div>
            <div id="sectionVizResult"
                 style="visibility:hidden; height:0px;
                 overflow: auto;" >
            </div>

        </section>

        <div id="infoVizRelations" style="visibility:hidden; position:absolute;
border:solid;border-color:black; border-radius:4px; height:586px;
width:38%;
background-color: rgba(200, 200, 200, 0.5); overflow:scroll; overflow-x:visible">
            <div id="buttons-display"></div>
            <div id="textData"></div>
        </div>
        <section class="container" v-show="queryTermPresent" v-cloak>
            <div v-if="!queryHasResults">
                <div class="row">
                    <h3>
                        No results have been found for <i>{{queryTerm}}</i>

                        <span class="small"><a href="#" v-on:click="querySamplesUsingFuzzy()">Try for similar terms?</a></span>
                    </h3>
                </div>
                =======
                <div v-else="" v-on:mouseenter="saveHistoryState">
                    <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-8"><h3>Search results for: <i>{{queryTerm}}<span v-if="useFuzzy" class="small"> (and related terms)</span></i></h3></div>
                        >>>>>>> 7b709e53101832ff032da8f984542a7276e8680a
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="row">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h3>Refine search results</h3>
                                    </div>
                                    <div class="panel-body">
                                        <form>
                                            <label for="fuzzy-search">Search for similar terms</label>
                                            <input type="checkbox" id="fuzzy-search" name="fuzzy-search"
                                                   v-model="useFuzzy"
                                                   v-on:change="querySamples" />
                                        </form>

                                        <component v-for="(key,facetObj) in facets"
                                                   is="facet" v-bind:title="key | startCase"
                                                   v-bind:keys="facetObj.keys"
                                                   v-bind:values="facetObj.vals"
                                                   v-bind:facet-id="key + 'Filter'">
                                        </component>
                                        <!-- <component is="facet" title="Content Type"
                                                   v-bind:keys="facets.types.keys"
                                                   v-bind:values="facets.types.vals"
                                                   facet-id="typeFilter">
                                        </component>
                                        <component is="facet" title="Organ"
                                                   v-bind:keys="facets.organs.keys"
                                                   v-bind:values="facets.organs.vals"
                                                   facet-id="organFilter">
                                        </component> -->
                                        <!--<component is="facet" title="Organism"
                                                :keys="facets.organisms.keys"
                                                :values="facets.organisms.vals"
                                                facet-id="organismFilter">
                                        </component> -->
                                    </div>
                                    <div class="panel-footer">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <component is="pagination"
                                                           v-bind:total-results="resultsNumber"
                                                           v-bind:displayed-results="samplesToRetrieve"
                                                           style="float:right">
                                                </component>
                                            </div>
                                            <div class="col-md-6">
                                                <component is="items-dropdown">
                                                </component>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <<<<<<< HEAD
                            <div class="col-md-8">
                                <component is="biosamples-list"
                                           v-bind:elements="biosamples">
                                </component>
                            </div>
                        </div>
                    </div>
        </section>

        <!-- End example layout containers -->

        <div id="elementHelp"> Help </div>
        <div id="infoPop"> Temporary display of information </div>

    </div>


    <footer>
        <!-- Optional local footer (insert citation / project-specific copyright / etc here -->
        <!--
        <div id="local-footer" class="grid_24 clearfix">
          <p>How to reference this page: ...</p>
        </div>
        -->
        <!-- End optional local footer -->

        <div id="global-footer" class="grid_24">

            <nav id="global-nav-expanded">

                <div class="grid_4 alpha">
                    <h3 class="embl-ebi"><a href="//www.ebi.ac.uk/" title="EMBL-EBI">EMBL-EBI</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="services"><a href="//www.ebi.ac.uk/services">Services</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="research"><a href="//www.ebi.ac.uk/research">Research</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="training"><a href="//www.ebi.ac.uk/training">Training</a></h3>
                </div>

                <div class="grid_4">
                    <h3 class="industry"><a href="//www.ebi.ac.uk/industry">Industry</a></h3>
                    =======
                    >>>>>>> 7b709e53101832ff032da8f984542a7276e8680a
                </div>
                <div class="col-md-8">
                    <component is="biosamples-list"
                               v-bind:elements="biosamples">
                    </component>
                </div>
        </div>
</div>
</section>
</div>

<<<<<<< HEAD
</footer>
</div> <!--! end of #wrapper -->


<!-- JavaScript at the bottom for fast page loading -->

<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
<!--
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../js/libs/jquery-1.6.2.min.js"><\/script>')</script>
-->


<!-- Your custom JavaScript file scan go here... change names accordingly -->
<!--
<script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/plugins.js"></script>
<script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/script.js"></script>
-->
<script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/cookiebanner.js"></script>
<script defer="defer" src="//www.ebi.ac.uk/web_guidelines/js/foot.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/history.js/1.8/bundled-uncompressed/html4+html5/native.history.js"></script>
<script src="/javascript/searchComponents.js"></script>
<script src="/javascript/toolsFunctions.js"></script>
<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>


<!-- end scripts-->

<!-- Google Analytics details... -->
<!-- Change UA-XXXXX-X to be your site's ID -->
<!--
<script>
  window._gaq = [['_setAccount','UAXXXXXXXX1'],['_trackPageview'],['_trackPageLoadTime']];
  Modernizr.load({
    load: ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js'
  });
</script>
-->

=======
<th:block layout:fragment="custom-endpage-scripts">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/history.js/1.8/bundled-uncompressed/html4+html5/native.history.js"></script>
    <script>
>>>>>>> 7b709e53101832ff032da8f984542a7276e8680a

    </script>
    <script th:src="@{/javascript/searchComponents.js}"></script>
</th:block>

</body>
</html>
